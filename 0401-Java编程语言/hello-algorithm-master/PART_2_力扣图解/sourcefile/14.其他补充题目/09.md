 
##	三门问题
date:	2020-06-17
 

> 三门问题（Monty Hall problem）亦称为蒙提霍尔问题、蒙特霍问题或蒙提霍尔悖论，出自美国的电视游戏节目Let's Make a Deal。今天为大家进行完整分析。
>
> 话不多说，直接看题目。

## 01、题目示例

| 三门问题                                                     |
| ------------------------------------------------------------ |
| 参赛者的面前有三扇关闭着的门，其中一扇的后面是天使，选中后天使会达成你的一个愿望，而另外两扇门后面则是恶魔，选中就会死亡。 |

当你选定了一扇门，但未去开启它的时候，上帝会开启剩下两扇门中的一扇，露出其中一只恶魔。（上帝是全能的，必会打开恶魔门）随后上帝会问你要不要更换选择，选另一扇仍然关着的门。

## 02、题目分析

按照常理，参赛者在做出最开始的决定时，对三扇门后面的事情一无所知，因此他选择正确的概率是1/3，这个应该大家都可以想到。

<br/>

接下来，主持人排除掉了一个错误答案（有恶魔的门），于是剩下的两扇门必然是一扇是天使，一扇是恶魔，那么此时无论选择哪一扇门，胜率都是1/2，依然合乎直觉。

<br/>

所以你作为参赛者，你会认为换不换都无必要，获胜概率均为1/2。但是，真的是这样吗？

<br/>

正确的答案是，**如果你选择了换，碰见天使的概率会高达2/3，而不不换的话，碰见天使的概率只有1/3。** 怎么来的？

<br/>

我们用一个很通俗的方法，能让你一听就懂。首先刚开始选择的一扇门的概率为1/3，而另外两扇门的总概率为2/3。

<img src="09/1.jpg" alt="PNG" style="zoom: 67%;" />

现在上帝打开了其中一扇为恶魔的门，我们知道这个门后面不会再有天使，所以相当于这部分概率被第三个门持有。

<img src="09/2.png" alt="PNG" style="zoom: 67%;" />

剩下的那扇门的概率（2/3）相当于刚开始选择的门（1/3）的二倍。所以我们得换。

<br/>

如果还没有听懂。我们可以假设有一百扇门，里边有99只都是恶魔。现在你随机选择一扇门，选择到天使的概率是1/100。

<img src="09/3.jpeg" alt="PNG" style="zoom: 67%;" />

这时，上帝打开其中的98扇，里边都是恶魔。这时候就相当于99/100的概率都集中在了另一扇门里。自然，我们需要选择换。<img src="./09/4.jpeg" alt="PNG" style="zoom: 67%;" />

## 04、代码证明

为了验证结果，我用代码跑了一百万次。什么？用贝叶斯分析分析！太俗（请隔壁去找李永乐老师），咱们还是直接上代码。

```go
func main() { 
    //换门遇见天使的次数和不换门遇见天使的次数     changeAngelCount, unchangeAngelCount := 0, 0     for i := 0; i < 1000000; i++ { 
        //门的总数 
        doors := []int{0, 1, 2} 
        //天使门和选中的门         angelDoor, selectedDoor := rand.Intn(3), rand.Intn(3) 
        //上帝移除一扇恶魔门
        for j := 0; j < len(doors); j++ {
            if doors[j] != selectedDoor && doors[j] != angelDoor {
                doors = append(doors[:j], doors[j+1:]...)
                break
            }
        }
        //统计        
        if selectedDoor == angelDoor {
            unchangeAngelCount++
        } else {
            changeAngelCount++
        }
    }
    fmt.Println("不换门遇见天使次数:", unchangeAngelCount, "比例：", (float32(unchangeAngelCount) / 1000000))
    fmt.Println("换门遇见天使次数:", changeAngelCount, "比例：", (float32(changeAngelCount) / 1000000))
}
```

跑了一百万次，结果当然不让我们失望！执行结果为：

<img src="09/5.png" alt="PNG"  />

所以，今天的问题你听明白了吗？评论区留下你的想法吧！